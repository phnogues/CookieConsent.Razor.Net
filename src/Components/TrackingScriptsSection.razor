@inject CookieConsentAccessor _cookieConsentAccessor;

@if (canTrack)
{
    @ChildContent
}

@code {

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    bool canTrack = false;

    protected override Task OnInitializedAsync()
    {
        canTrack = _cookieConsentAccessor != null && _cookieConsentAccessor.CanTrack;

        return base.OnInitializedAsync();
    }
}